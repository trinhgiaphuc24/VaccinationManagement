version: "3.1"

intents:
  - greet
  - goodbye
  - bot_challenge
  - ask_vaccine_price
  - ask_vaccine_info
  - ask_vaccination_age
  - ask_side_effects
  - ask_side_effects_by_symptom
  - ask_vaccination_schedule_by_age
  - ask_pre_vaccination_preparation
  - ask_post_vaccination_monitoring
  - ask_vaccination_location
  - evaluate_chatbot
  - out_of_scope
  - nlu_fallback
  - ask_vaccine_for_new_disease
  - ask_vaccine_for_special_condition

entities:
  - vaccine_name
  - health_center
  - symptom
  - age
  - disease
  - condition

slots:
  vaccine_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: vaccine_name
      - type: from_text
        conditions:
          - active_loop: price_form
            requested_slot: vaccine_name
          - active_loop: vaccine_form
            requested_slot: vaccine_name
          - active_loop: side_effects_form
            requested_slot: vaccine_name
  health_center:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: health_center
      - type: from_text
        intent: ask_vaccination_location
  symptom:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: symptom
      - type: from_text
        conditions:
          - active_loop: side_effects_form
            requested_slot: symptom
  age:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: age
      - type: from_text
        conditions:
          - active_loop: schedule_form
            requested_slot: age
  disease:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: disease
  condition:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: condition

actions:
  - validate_price_form
  - action_get_vaccine_price
  - action_get_vaccine_info
  - action_get_vaccination_age
  - action_get_side_effects
  - action_get_side_effects_by_symptom
  - action_get_vaccination_schedule_by_age
  - action_show_pre_vaccination_preparation
  - action_show_post_vaccination_monitoring
  - action_get_vaccination_location
  - action_evaluate_chatbot
  - action_bot_challenge
  - action_default_fallback
  - action_out_of_scope
  - action_get_vaccine_for_disease
  - action_get_vaccine_for_condition
  - action_analyze_out_of_scope
  - action_annotate_query

forms:
  price_form:
    required_slots:
      - vaccine_name
  vaccine_form:
    required_slots:
      - vaccine_name
  side_effects_form:
    required_slots:
      - vaccine_name
      - symptom
  schedule_form:
    required_slots:
      - age

responses:
  utter_greet:
    - text: "Xin ch√†o! T√¥i l√† bot h·ªó tr·ª£ th√¥ng tin ti√™m ch·ªßng. B·∫°n mu·ªën bi·∫øt v·ªÅ gi√° vaccine, th√¥ng tin vaccine, hay l·ªãch ti√™m? V√≠ d·ª•: 'Gi√° vaccine Hexaxim'."
  utter_goodbye:
    - text: "T·∫°m bi·ªát! N·∫øu c·∫ßn h·ªó tr·ª£ th√™m, c·ª© g·ªçi t√¥i nh√©! üòä"
  utter_bot_challenge:
    - text: "T√¥i l√† bot ti√™m ch·ªßng, ƒë∆∞·ª£c t·∫°o ƒë·ªÉ cung c·∫•p th√¥ng tin v·ªÅ vaccine, gi√° c·∫£, v√† l·ªãch ti√™m. H√¥m nay t√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?"
  utter_out_of_scope:
    - text: "Xin l·ªói, t√¥i ch·ªâ h·ªó tr·ª£ th√¥ng tin v·ªÅ vaccine v√† ti√™m ch·ªßng. B·∫°n mu·ªën h·ªèi v·ªÅ gi√° vaccine, l·ªãch ti√™m, hay th√¥ng tin vaccine kh√¥ng?"
  utter_default_fallback:
    - text: "Xin l·ªói, t√¥i kh√¥ng hi·ªÉu y√™u c·∫ßu c·ªßa b·∫°n. B·∫°n mu·ªën h·ªèi v·ªÅ gi√° vaccine, th√¥ng tin vaccine, hay l·ªãch ti√™m ch·ªßng? V√≠ d·ª•: 'Gi√° vaccine Infanrix Hexa' ho·∫∑c 'L·ªãch ti√™m cho tr·∫ª 2 th√°ng'."
  utter_ask_more:
    - text: "B·∫°n c√≥ mu·ªën bi·∫øt th√™m th√¥ng tin g√¨ kh√¥ng? V√≠ d·ª•: gi√° vaccine, l·ªãch ti√™m, hay t√°c d·ª•ng ph·ª•?"
  utter_ask_price_form_vaccine_name:
    - text: "B·∫°n mu·ªën bi·∫øt gi√° vaccine n√†o? V√≠ d·ª•: Infanrix Hexa."
  utter_ask_vaccine_form_vaccine_name:
    - text: "B·∫°n mu·ªën bi·∫øt th√¥ng tin v·ªÅ vaccine n√†o? V√≠ d·ª•: Infanrix Hexa."
  utter_ask_side_effects_form_vaccine_name:
    - text: "B·∫°n mu·ªën bi·∫øt t√°c d·ª•ng ph·ª• c·ªßa vaccine n√†o? V√≠ d·ª•: Infanrix Hexa."
  utter_ask_side_effects_form_symptom:
    - text: "B·∫°n quan t√¢m ƒë·∫øn tri·ªáu ch·ª©ng n√†o? V√≠ d·ª•: s·ªët, s∆∞ng."
  utter_ask_schedule_form_age:
    - text: "B·∫°n mu·ªën bi·∫øt l·ªãch ti√™m cho ƒë·ªô tu·ªïi n√†o? V√≠ d·ª•: tr·∫ª s∆° sinh, 2 th√°ng."
  utter_request_symptom:
    - text: "Vui l√≤ng cung c·∫•p tri·ªáu ch·ª©ng b·∫°n mu·ªën ki·ªÉm tra. V√≠ d·ª•: s·ªët, s∆∞ng."
  utter_request_vaccine_name:
    - text: "Vui l√≤ng cung c·∫•p t√™n vaccine. V√≠ d·ª•: Infanrix Hexa."
  utter_request_location:
    - text: "Vui l√≤ng cung c·∫•p t√™n c∆° s·ªü y t·∫ø. V√≠ d·ª•: VNVC T√¢n Thu·∫≠n."
  utter_new_disease_response:
    - text: "üîç Hi·ªán t·∫°i, ch∆∞a c√≥ vaccine ph√≤ng {disease}. B·∫°n n√™n tham kh·∫£o √Ω ki·∫øn b√°c sƒ© ho·∫∑c c√°c ngu·ªìn y t·∫ø uy t√≠n."
    - text: "üîç Kh√¥ng c√≥ th√¥ng tin v·ªÅ vaccine cho {disease}. B·∫°n mu·ªën h·ªèi v·ªÅ vaccine kh√°c kh√¥ng?"
    - text: "üîç Ch∆∞a c√≥ vaccine cho {disease} ƒë∆∞·ª£c ghi nh·∫≠n. H√£y ki·ªÉm tra v·ªõi b√°c sƒ© ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt."
  utter_special_condition_response:
    - text: "üîç V·ªõi {condition}, b·∫°n n√™n h·ªèi b√°c sƒ© ƒë·ªÉ ch·ªçn vaccine an to√†n. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n v·ªõi th√¥ng tin vaccine kh√°c!"
    - text: "üîç Vaccine cho {condition} c·∫ßn ƒë∆∞·ª£c b√°c sƒ© ƒë√°nh gi√°. B·∫°n mu·ªën bi·∫øt th√™m v·ªÅ vaccine n√†o?"
    - text: "üîç ƒê·ªÉ ƒë·∫£m b·∫£o an to√†n cho {condition}, h√£y tham kh·∫£o √Ω ki·∫øn b√°c sƒ© tr∆∞·ªõc khi ti√™m vaccine."